(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),o=a.n(s),l=(a(30),a(8)),c=a(16),i=a.n(c),u=a(22),m=a(10),p=a(11),h=a(13),d=a(12),f=a(14),E=a(5),v=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleUserName=function(e){a.setState({userName:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.login=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://swapi.co/api/people",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,n.results.some((function(e){return e.name===a.state.userName&&e.birth_year===a.state.password}))?(a.props.setUser(a.state.userName),a.props.history.push("/Search")):a.setState({userFound:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.state={userName:"",password:"",userFound:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",placeholder:"username",value:this.state.userName,onChange:this.handleUserName}),r.a.createElement("input",{type:"password",placeholder:"password",value:this.state.password,onChange:this.handlePassword}),r.a.createElement("button",{onClick:this.login},"login")),!this.state.userFound&&r.a.createElement("div",{className:"error"},"User id or password is incorrect"),"            ")}}]),t}(r.a.Component),g=Object(E.f)(v),b=(a(37),function(e){var t=e.planetInfo,a=e.handleClose,n=e.show?"modal display-block":"modal display-none";return r.a.createElement("div",{className:n},r.a.createElement("section",{className:"modal-main"},r.a.createElement("h2",null,"Planet"),r.a.createElement("div",{className:"planet-info"},t&&Object.keys(t).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("strong",null,e)),r.a.createElement("span",null,t&&t[e]))}))),r.a.createElement("button",{className:"button-close",onClick:a},"close")))}),N=function(e){var t=e.maxPopulation,a=e.planets,s=Object(n.useState)(!1),o=Object(l.a)(s,2),c=o[0],i=o[1],u=Object(n.useState)(null),m=Object(l.a)(u,2),p=m[0],h=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{show:c,planetInfo:p,handleClose:function(){return i(!1)}}),r.a.createElement("div",{className:"grid"},a&&r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"search-head"},r.a.createElement("strong",null,"Name")),r.a.createElement("span",{className:"search-head"},r.a.createElement("strong",null,"Population"))),a&&a.map((function(e,a){return r.a.createElement("div",{key:a,className:"grid-container ".concat(t.name===e.name?"active":""),onClick:function(){return function(e){i(!0),h(e)}(e)}},r.a.createElement("span",null,e.name),r.a.createElement("span",null,e.population))}))))},w=r.a.createContext({userName:""}),j=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).timer=function(){a.setState({timeLeft:a.state.timeLeft-1}),0==a.state.timeLeft&&clearInterval(a.timer)},a.search=function(e,t){var n=e.target.value,r=a.state,s=r.planets,o=r.count;if(0===o&&(a.timer=setInterval(a.timer,1e3)),""!==n&&0!==a.state.timeLeft&&o<14||"Luke Skywalker"===t){var l=s.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));a.setState({filterPlanets:l,count:o+1})}else 0===a.state.timeLeft?a.setState({count:0,timeLeft:60}):a.setState({filterPlanets:[],count:o+1})},a.logout=function(){a.setState({logout:!0})},a.state={planets:[],filterPlanets:[],logout:!1,count:0,timeLeft:60},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{fetch("https://swapi.co/api/planets",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({planets:t.results})}))}catch(t){console.error("Error:",t)}}},{key:"render",value:function(){var e=this,t=0!==this.state.filterPlanets.length&&this.state.filterPlanets.reduce((function(e,t){return parseInt(e.population)>parseInt(t.population)?e:t}));return this.state.logout?r.a.createElement(E.a,{to:"/"}):r.a.createElement(w.Consumer,null,(function(a){return r.a.createElement("div",{className:"main-container"},r.a.createElement("button",{onClick:e.logout,className:"logout"},"Logout"),r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{type:"text",id:"search-bar",placeholder:"Search Planet....",onChange:function(t){return e.search(t,a.userName)}}),r.a.createElement("i",{className:"fa fa-search search-icon","aria-hidden":"true"})),14==e.state.count&&r.a.createElement("div",{className:"error"},"Only 15 serches Allowed in a minute"),0!==e.state.filterPlanets.length&&r.a.createElement(N,{maxPopulation:t,planets:e.state.filterPlanets}))}))}}]),t}(r.a.Component),O=(a(38),a(9)),k=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1];function o(e){console.log("userName",e),s(e)}return r.a.createElement("div",{className:"App"},r.a.createElement(O.a,null,r.a.createElement(w.Provider,{value:{userName:a}},r.a.createElement(E.b,{exact:!0,component:function(){return r.a.createElement(g,{setUser:o})},path:"/"}),r.a.createElement(E.b,{component:j,path:"/Search"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.43074cea.chunk.js.map